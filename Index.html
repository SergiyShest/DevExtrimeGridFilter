<!DOCTYPE html>

<html>

<head>
    <title>Data grid example</title>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.2/jszip.min.js"></script>-->
    <script src="Scripts/zip.js"></script>
    <script src="Scripts/iqery.min.js"></script>
   <!-- <script src="Scripts/dx.all.js"></script>
   
    <script src="Scripts/dx.aspnet.data.js"></script>-->
      <script src="https://cdn3.devexpress.com/jslib/19.2.6/js/dx.all.js"></script>
    <script src="js/code2.js"></script>
    <script src="dist/filter.js"></script>
    <script src="js/FilterControls.js"></script>
    <script src="js/data.js"></script>

    <link rel="stylesheet" type="text/css" href="Content/dx.common.css" />
    <link rel="stylesheet" type="text/css" href="Content/dx.light.css" />
    <link rel="stylesheet" type="text/css" href="Content/modal.CSS" />
    <!--<script src="https://cdn3.devexpress.com/jslib/19.2.6/js/localization/dx.messages.ru.js"></script>-->
    <script src="Scripts/localization.js"></script>
</head>


<body>

    <div class="modal" id="filterPopup">
        <div class="modal-content">
            <div class="modal-header">
                header <span id="closeButton" align="right" class="modal-close" onclick="HideFilter()">X</span>
            </div>
            <div id="filter" style="background-color:lightblue"></div>
        </div>
    </div>

    <br />
    <button onclick="ShowFilter()">CreateFilter</button>
    <button onclick="StrFilter()">Filter str</button>
    <button onclick='setFilter([10553,10561,10563,10583],"OrderID")'>id</button>    
    <button onclick='setFilter(["Switzerland"],"ShipCountry")'>Switzerland</button>
    <button onclick='setFilter(["Belgium"],"ShipCountry")'>Belgium</button>
    <button onclick='setFilter(["Brazil"],"ShipCountry")'>Brazil</button>
    <button onclick='setFilter(["Germany","Brazil"],"ShipCountry")'>Germany+>Brazil</button>

    <button onclick='clearFilter()'>FilterClear</button>
    <button onclick="Edit()">редактировать</button>
    <div class="filter-container">
        <div id="filterBuilder"></div>
        <div id="apply"></div>
        <div class="dx-clearfix"></div>
    </div>
    <br />
    <div id="filter"></div>
    <div id="grid"></div>
</body>
<script>
 DevExpress.localization.locale(navigator.language);
 
    
    function setFilter(valueAr,fieldName) {
       var oldFilter = dataGrid.getCombinedFilter();
        var filter = FilterHelper.ApplyInCon(oldFilter, fieldName, valueAr)

        dataGrid.filter(filter);
        dataGrid.refresh();
        console.time("x");
    }
   function setFilterOld(status) {
       
        var filter = ["ShipCountry", "=", status];
        dataGrid.filter(filter);
        dataGrid.refresh();
        console.time("x");
    }
    
    var filterInit = false;

    function HideFilter() {
        var modal = document.getElementById('filterPopup');
        modal.style.display = "none";
    }

    function ShowFilter() {
        if (filterInit == false) {
            filterInit = true;
            dataGrid = $('#grid').dxDataGrid('instance');
            filerElem = document.getElementById("filter")
            filerElem= new FilterElements(dataGrid,filerElem);
            console.dir(colunmDescription);
            filerElem.CreateFilter( colunmDescription);
        } else {
    
          filerElem.SetCombinedFilter();
        }
        var modal = document.getElementById('filterPopup');
        modal.style.display = "block";

    }

    function FilterFind() {
        filerElem.FilterFind();
    } 

    function clearFilter() {
        dataGrid.clearFilter();
      //  f = dataGrid.getCombinedFilter(false);
dataGrid.refresh()
    }
    var dataGrid = $('#grid').dxDataGrid('instance');
</script>
</html>